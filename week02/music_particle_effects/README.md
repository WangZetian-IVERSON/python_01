# 音乐粒子特效系统

一个基于音频驱动的实时粒子特效可视化项目，支持节拍检测和动态粒子响应。

## 功能特性

- 🎵 **实时音频分析** - 使用 librosa 进行音频节拍检测
- 🎨 **动态粒子系统** - 物理引擎驱动的粒子效果
- ⚡ **多版本支持** - 快速版、演示版、完整版
- 🎮 **交互控制** - 键盘控制和手动节拍触发
- 📱 **性能优化** - 60FPS 流畅渲染

## 文件说明

### 核心模块
- `audio_analyzer.py` - 音频分析和节拍检测
- `particle_system.py` - 粒子物理系统和渲染
- `main.py` - 完整功能版本（带音频文件分析）

### 运行版本
- `quick_start.py` - **推荐** 轻量级快速启动版本
- `demo.py` - 音频文件演示版本

### 配置文件
- `requirements.txt` - Python 依赖包
- `README.md` - 项目说明文档

## 快速开始

### 1. 安装依赖
```bash
pip install pygame
# 完整版需要额外安装：
# pip install librosa numpy scipy soundfile
```

### 2. 运行程序

**推荐使用快速版本（无需音频文件）：**
```bash
python quick_start.py
```

**或运行演示版本（需要音频文件）：**
```bash
python demo.py
```

## 控制说明

### 键盘控制
- `SPACE` - 手动触发节拍效果
- `C` - 清空所有粒子
- `ESC` - 退出程序

### 粒子效果
- 粒子从屏幕左下角生成
- 朝右上角方向移动
- 节拍时产生脉冲和扩张效果
- 多种颜色和大小变化

## 技术实现

### 音频处理
- 使用 librosa 进行音频分析
- 实时节拍检测和频谱分析
- 支持多种音频格式

### 粒子系统
- 基于物理的粒子运动
- 重力、阻力和生命周期
- 节拍响应的脉冲效果

### 渲染优化
- pygame 硬件加速
- 批量渲染优化
- 动态LOD调整

## 系统要求

- Python 3.8+
- Windows/Mac/Linux
- 音频设备（用于完整版）
- 最低 2GB RAM

## 性能说明

- **quick_start.py**: 轻量级，适合快速测试
- **demo.py**: 中等性能，支持音频文件
- **main.py**: 完整功能，需要较高性能

## 故障排除

如果遇到性能问题：
1. 使用 `quick_start.py` 版本
2. 降低粒子数量限制
3. 关闭复杂视觉效果

## 开发信息

- 开发日期：2025年9月
- 版本：v1.0
- 作者：音乐粒子特效团队